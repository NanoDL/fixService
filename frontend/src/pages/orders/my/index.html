<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мои заказы - РемонтСервис</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <!-- Стили будут подключены автоматически через WebPack -->
</head>
<body>
    <!-- Навигация -->
    <div id="headerContainer">
        <!-- Сюда будет загружен хедер -->
    </div>

    <!-- Основной контент -->
    <section class="my-orders-section">
        <div class="container">
            <h1 class="section-title">Мои заказы</h1>
            
            <!-- Табы для разных категорий заказов -->
            <ul class="nav nav-tabs section-tabs" id="ordersTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="active-tab" data-bs-toggle="tab" data-bs-target="#active-orders" type="button" role="tab" aria-controls="active-orders" aria-selected="true">
                        Активные заказы
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="available-tab" data-bs-toggle="tab" data-bs-target="#available-orders" type="button" role="tab" aria-controls="available-orders" aria-selected="false">
                        Доступные заказы
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="completed-tab" data-bs-toggle="tab" data-bs-target="#completed-orders" type="button" role="tab" aria-controls="completed-orders" aria-selected="false">
                        Завершенные
                    </button>
                </li>
            </ul>
            
            <!-- Контент вкладок -->
            <div class="tab-content" id="ordersTabContent">
                <!-- Активные заказы -->
                <div class="tab-pane fade show active" id="active-orders" role="tabpanel" aria-labelledby="active-tab">
                    <div class="orders-list" id="activeOrdersList">
                        <!-- Сюда будут загружены активные заказы -->
                        <!-- Заглушка для пустого списка -->
                        <div class="empty-orders" id="emptyActiveOrders">
                            <div class="empty-icon">
                                <i class="bi bi-inbox"></i>
                            </div>
                            <h3 class="empty-title">У вас нет активных заказов</h3>
                            <p class="empty-text">Здесь будут отображаться ваши текущие заказы</p>
                            <a href="/orders" class="btn btn-primary" id="createOrderBtn">
                                <i class="bi bi-plus-circle"></i> Создать заказ
                            </a>
                        </div>
                    </div>
                </div>
                
                <!-- Доступные заказы (для мастеров) -->
                <div class="tab-pane fade" id="available-orders" role="tabpanel" aria-labelledby="available-tab">
                    <div class="orders-list" id="availableOrdersList">
                        <!-- Сюда будут загружены доступные заказы -->
                        <!-- Заглушка для пустого списка -->
                        <div class="empty-orders" id="emptyAvailableOrders">
                            <div class="empty-icon">
                                <i class="bi bi-search"></i>
                            </div>
                            <h3 class="empty-title">Нет доступных заказов</h3>
                            <p class="empty-text">В данный момент нет заказов, доступных для принятия</p>
                        </div>
                    </div>
                </div>
                
                <!-- Завершенные заказы -->
                <div class="tab-pane fade" id="completed-orders" role="tabpanel" aria-labelledby="completed-tab">
                    <div class="orders-list" id="completedOrdersList">
                        <!-- Сюда будут загружены завершенные заказы -->
                        <!-- Заглушка для пустого списка -->
                        <div class="empty-orders" id="emptyCompletedOrders">
                            <div class="empty-icon">
                                <i class="bi bi-check-circle"></i>
                            </div>
                            <h3 class="empty-title">У вас нет завершенных заказов</h3>
                            <p class="empty-text">Здесь будут отображаться ваши завершенные заказы</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Модальное окно для подробной информации о заказе -->
    <div class="modal fade" id="orderDetailsModal" tabindex="-1" aria-labelledby="orderDetailsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="orderModalTitle">Заказ #123</h5>
                    <div class="order-status ms-3" id="orderModalStatus">Новый</div>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="form-group mb-3">
                                <label for="orderModalType" class="form-label">Тип ремонта</label>
                                <select class="form-select" id="orderModalType">
                                    <option value="DIAGNOSTIC">Диагностика</option>
                                    <option value="HARDWARE_REPAIR">Ремонт оборудования</option>
                                    <option value="SOFTWARE_REPAIR">Ремонт ПО</option>
                                    <option value="FIRMWARE_UPDATE">Обновление прошивки</option>
                                    <option value="CLEANING">Чистка</option>
                                    <option value="REPLACEMENT">Замена деталей</option>
                                    <option value="COMPLEX_REPAIR">Комплексный ремонт</option>
                                </select>
                            </div>
                            <div class="form-group mb-3">
                                <label for="orderModalDevice" class="form-label">Устройство</label>
                                <input type="text" class="form-control" id="orderModalDevice" readonly>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group mb-3">
                                <label for="orderModalCreationDate" class="form-label">Дата создания</label>
                                <div class="form-control-static" id="orderModalCreationDate">01.01.2023</div>
                            </div>
                            <div class="form-group mb-3" id="orderModalPriceBlock">
                                <label for="orderModalPrice" class="form-label">Цена (₽)</label>
                                <input type="number" class="form-control" id="orderModalPrice" min="0">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group mb-4">
                        <label for="orderModalDescription" class="form-label">Описание проблемы</label>
                        <textarea class="form-control" id="orderModalDescription" rows="4" readonly></textarea>
                    </div>
                    
                    <!-- Блок с информацией о мастере -->
                    <div class="master-info-block mb-4" id="orderModalMasterBlock" style="display: none;">
                        <h5 class="mb-3">Информация о мастере</h5>
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <p class="mb-1"><strong>Мастер:</strong> <span id="orderModalMasterName">Иван Иванов</span></p>
                                    </div>
                                    <div class="col-md-6">
                                        <p class="mb-1"><strong>Контакты:</strong> <span id="orderModalMasterContact">+7 XXX XXX XX XX</span></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Блок для редактирования заказа (только для заказчика) -->
                    <div class="edit-block mb-4" id="orderModalEditBlock" style="display: none;">
                        <div class="d-grid">
                            <button class="btn btn-outline-primary" id="orderModalSaveChangesBtn">
                                <i class="bi bi-save"></i> Сохранить изменения
                            </button>
                        </div>
                    </div>
                    
                    <!-- Блоки действий в зависимости от роли пользователя и статуса заказа -->
                    
                    <!-- Действия для заказчика (Новый заказ) -->
                    <div class="order-modal-actions" id="orderModalCustomerNewActions" style="display: none;">
                        <hr>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="d-grid">
                                    <button class="btn btn-outline-danger order-action-btn" id="deleteOrderBtn">
                                        <i class="bi bi-trash"></i> Удалить заказ
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Действия для заказчика (Принятый заказ) -->
                    <div class="order-modal-actions" id="orderModalCustomerAcceptedActions" style="display: none;">
                        <hr>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="d-grid">
                                    <button class="btn btn-outline-danger order-action-btn" id="rejectMasterBtn">
                                        <i class="bi bi-person-x"></i> Отказаться от мастера
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Действия для мастера (Новый заказ) -->
                    <div class="order-modal-actions" id="orderModalMasterNewActions" style="display: none;">
                        <hr>
                        <div class="d-grid">
                            <button class="btn btn-primary order-action-btn" id="acceptOrderBtn">
                                <i class="bi bi-check-lg"></i> Принять заказ
                            </button>
                        </div>
                    </div>
                    
                    <!-- Действия для мастера (Принятый заказ) -->
                    <div class="order-modal-actions" id="orderModalMasterAcceptedActions" style="display: none;">
                        <hr>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <div class="d-grid">
                                    <button class="btn btn-primary order-action-btn" id="setOrderPriceBtn">
                                        <i class="bi bi-currency-ruble"></i> Установить цену
                                    </button>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="d-grid">
                                    <button class="btn btn-success order-action-btn" id="completeOrderBtn">
                                        <i class="bi bi-check-circle"></i> Завершить заказ
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальное окно для подтверждения принятия заказа -->
    <div class="modal fade" id="acceptOrderModal" tabindex="-1" aria-labelledby="acceptOrderModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="acceptOrderModalLabel">Принять заказ</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Вы уверены, что хотите принять заказ <span id="acceptOrderId"></span>?</p>
                    <p>После принятия заказа вы будете обязаны выполнить его в соответствии с указанными условиями.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмена</button>
                    <button type="button" class="btn btn-primary" id="confirmAcceptBtn">Принять заказ</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Футер -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-6">
                    <div class="footer-brand">
                        <span class="footer-brand-text">РемонтСервис</span>
                    </div>
                    <p class="footer-description">Удобная платформа для поиска квалифицированных мастеров, которые быстро и качественно отремонтируют вашу технику</p>
                    <div class="footer-social">
                        <a href="#" class="social-link"><i class="bi bi-telegram"></i></a>
                        <a href="#" class="social-link"><i class="bi bi-vk"></i></a>
                        <a href="#" class="social-link"><i class="bi bi-instagram"></i></a>
                        <a href="#" class="social-link"><i class="bi bi-youtube"></i></a>
                    </div>
                </div>
                <div class="col-lg-2 col-md-6">
                    <h5 class="footer-heading">Платформа</h5>
                    <ul class="footer-links">
                        <li><a href="/about">О нас</a></li>
                        <li><a href="/masters">Мастерам</a></li>
                        <li><a href="/customers">Заказчикам</a></li>
                        <li><a href="/pricing">Тарифы</a></li>
                        <li><a href="/partners">Партнерам</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6">
                    <h5 class="footer-heading">Поддержка</h5>
                    <ul class="footer-links">
                        <li><a href="/faq">FAQ</a></li>
                        <li><a href="/support">Поддержка</a></li>
                        <li><a href="/knowledge-base">База знаний</a></li>
                        <li><a href="/privacy">Политика конфиденциальности</a></li>
                        <li><a href="/terms">Условия использования</a></li>
                    </ul>
                </div>
                <div class="col-lg-4 col-md-6">
                    <h5 class="footer-heading">Контакты</h5>
                    <ul class="footer-contact">
                        <li><i class="bi bi-geo-alt"></i> г. Москва, ул. Примерная, д. 123</li>
                        <li><i class="bi bi-telephone"></i> 8 (800) 123-45-67</li>
                        <li><i class="bi bi-envelope"></i> info@technoservice.ru</li>
                    </ul>
                    <div class="footer-app-badges">
                        <a href="#" class="app-badge"><img src="../../../assets/images/app-store-badge.png" alt="App Store"></a>
                        <a href="#" class="app-badge"><img src="../../../assets/images/google-play-badge.png" alt="Google Play"></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <p class="copyright">© 2023 РемонтСервис. Все права защищены.</p>
                    </div>
                    <div class="col-md-6">
                        <div class="footer-payment">
                            <span>Принимаем к оплате:</span>
                            <i class="bi bi-credit-card"></i>
                            <i class="bi bi-wallet2"></i>
                            <i class="bi bi-bank"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Скрипты будут подключены автоматически через WebPack -->
</body>
</html> 